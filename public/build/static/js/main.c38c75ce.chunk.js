(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{104:function(e,t,c){},105:function(e,t,c){},106:function(e,t,c){},107:function(e,t,c){},108:function(e,t,c){},109:function(e,t,c){},110:function(e,t,c){},131:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(2),s=c.n(n),r=c(23),i=c.n(r),l=(c(59),c(60),c(3)),j=c(9),o=(c(61),c(5)),u=c.n(o),d=c(7),b=c(6),O=c.n(b),p="/",h=Object(n.createContext)([]),f=Object(n.createContext)(!1),m=Object(n.createContext)(!0),x=Object(n.createContext)([]);O.a.interceptors.request.use((function(e){var t=sessionStorage.getItem("accessToken");return e.headers.authorization="Bearer ".concat(t),e}),(function(e){return Promise.reject(e)}));var v=function(e){var t=e.children,c=Object(n.useState)(!1),s=Object(l.a)(c,2),r=s[0],i=s[1],j=Object(n.useState)({}),o=Object(l.a)(j,2),b=o[0],p=o[1],v=Object(n.useState)(!1),g=Object(l.a)(v,2),y=g[0],N=g[1],k=Object(n.useState)(!0),w=Object(l.a)(k,2),S=w[0],C=w[1];return Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var t,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,e.prev=1,e.next=4,O.a.get("/users/signin/");case 4:c=e.sent,t=!1,p(c.data),N(!t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),N(!1),p({});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}})()(),C(!1)}),[S]),Object(a.jsx)(h.Provider,{value:[b,p],children:Object(a.jsx)(f.Provider,{value:y,children:Object(a.jsx)(m.Provider,{value:[S,C],children:Object(a.jsx)(x.Provider,{value:[r,i],children:t})})})})},g=c(10),y=c(4),N=(c(80),c(20)),k=(c(81),function(e){var t=e.privateHandler,c=e.inputsBox,n=Object(l.a)(c,1)[0];return Object(a.jsx)("div",{className:"cb-all",children:Object(a.jsxs)("div",{className:"cb-slide",children:[Object(a.jsx)("h2",{children:n.private&&"oui"}),Object(a.jsx)("div",{className:"cb-rond ".concat(n.private?"private-true":"private-false"),id:"private",onClick:t}),Object(a.jsx)("h2",{children:!n.private&&"non"})]})})}),w=function(){var e=Object(n.useState)({title:"",desc:"",private:!1}),t=Object(l.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)([]),i=Object(l.a)(r,2),j=i[0],o=i[1],b=Object(n.useState)(""),p=Object(l.a)(b,2),f=p[0],m=p[1],v=Object(n.useContext)(h),w=Object(l.a)(v,1)[0],S=Object(n.useContext)(x),C=Object(l.a)(S,2),I=C[0],E=C[1],z=function(e){m(""),"private"===e.target.id?s(Object(y.a)(Object(y.a)({},c),{},Object(g.a)({},e.target.id,!c[e.target.id]))):s(Object(y.a)(Object(y.a)({},c),{},Object(g.a)({},e.target.id,e.target.value)))},M=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n in t.preventDefault(),a=!1,c)c[n]||"private"===n||(a=!0,m("Merci de remplir ce champ : ".concat(n)));if(!a){e.next=5;break}return e.abrupt("return");case 5:return(r=new FormData).append("title",c.title),r.append("desc",c.desc),r.append("creation",(new Date).toISOString().slice(0,19).replace("T"," ")),r.append("private",c.private),r.append("user_id",w.id),Object.values(j).forEach((function(e){r.append("image",e)})),e.prev=12,e.next=15,O.a.post("/pics/pic",r);case 15:s({title:"",desc:""}),m("Photo post\xe9e"),E(!I),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(12),e.t0.response&&m(e.t0.response.data);case 23:case"end":return e.stop()}}),e,null,[[12,20]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"addpics-all",children:Object(a.jsxs)("form",{encType:"multipart/form-data",method:"post",onSubmit:M,children:[Object(a.jsx)("h2",{children:"Titre des photos"}),Object(a.jsx)("input",{id:"title",type:"text",value:c.title,onChange:z,placeholder:"Ins\xe9rer le titre des ou de la photo"}),Object(a.jsx)("h2",{children:"Description"}),Object(a.jsx)("textarea",{id:"desc",type:"text",value:c.desc,onChange:z}),Object(a.jsx)("label",{htmlFor:"add-photo",children:j.length>0?"".concat(j.length," ").concat(j.length>1?"fichiers selectionn\xe9s":"fichier selectionner "):"S\xe9lectionner un ou plusieurs souvenirs"}),Object(a.jsx)("input",{id:"add-photo",type:"file",onChange:function(e){o(e.target.files)},accept:"image/jpg , image/jpeg , image/png",multiple:!0}),Object(a.jsxs)("div",{className:"addpics-check",children:[Object(a.jsx)("h2",{children:"Priv\xe9e "}),Object(a.jsx)(k,{privateHandler:z,inputsBox:[c,s]})]}),Object(a.jsxs)("button",{type:"submit",children:[Object(a.jsx)("p",{children:"Poster"}),Object(a.jsx)(N.b,{size:18})]}),Object(a.jsx)("p",{className:"error",children:f})]})})},S=function(e,t){var c=Object(n.useState)(!1),a=Object(l.a)(c,2),s=a[0],r=a[1];return Object(n.useEffect)((function(){function c(c){e&&t?e.contains(c.target)||t.contains(c.target)||r(!0):e&&!e.contains(c.target)&&r(!0)}return document.addEventListener("mousedown",c),function(){document.removeEventListener("mousedown",c)}}),[e,t]),s},C=c(11),I=function(e){var t=e.userStat,c=e.isDisplayed,s=e.mainBtn,r=e.transRef,i=Object(n.useContext)(m),o=Object(l.a)(i,2),u=o[0],d=o[1],b=Object(l.a)(t,2),O=b[0],p=b[1],h=Object(l.a)(c,2),f=h[0],x=h[1],v=Object(n.useState)(!1),g=Object(l.a)(v,2),y=g[0],N=g[1],k=S(r.current,s);return Object(n.useEffect)((function(){k&&x(!1)}),[k,f,x]),Object(a.jsxs)("div",{className:"side-m",ref:r,children:[Object(a.jsx)("div",{className:"arrow-up"}),Object(a.jsxs)("div",{className:"side-menu",children:[Object(a.jsx)("h2",{className:"side-menu-title",children:"Ajouter une photo"}),Object(a.jsxs)("ul",{children:[Object(a.jsx)(w,{}),Object(a.jsx)(j.b,{to:"/users/".concat(O.id),children:Object(a.jsx)("li",{onClick:function(){x(!1)},children:"Mon profile"})}),O.family_id&&Object(a.jsx)(j.b,{to:"/family/".concat(O.family_id),children:Object(a.jsx)("li",{onClick:function(){x(!1)},children:"Ma famille"})}),Object(a.jsx)("li",{id:"logOut",onClick:function(){sessionStorage.clear(),p({}),N(!0),x(!1),d(!u)},children:"Se d\xe9connecter"})]})]}),y&&Object(a.jsx)(C.a,{to:"/",exact:!0})]})},E=c(133),z=c(26),M=c(21),R=c(22),_={isMinSize:function(e,t){return e.length>=t},isSame:function(e,t){return e===t},emailIsValid:function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}},P=c(18),D=(c(87),c(88),function(e){var t=e.setDisplaySignIn,c=Object(n.useState)({checklogin:"",checkpassword:""}),s=Object(l.a)(c,2),r=s[0],i=s[1],j=Object(n.useState)(""),o=Object(l.a)(j,2),b=o[0],p=o[1],h=Object(n.useState)(!1),f=Object(l.a)(h,2),m=f[0],x=f[1],v=Object(n.useState)({}),N=Object(l.a)(v,2),k=N[0],w=N[1],S=function(e){i(Object(y.a)(Object(y.a)({},r),{},Object(g.a)({},e.target.id,e.target.value))),p("")},C=function(){var e=Object(d.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!_.emailIsValid(r.checklogin)){e.next=16;break}return e.prev=2,e.next=5,O.a.post("/users/changepwd/",{login:r.checklogin});case 5:c=e.sent,x(!0),w(c.data),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),x(!1),p(e.t0.response.data);case 14:e.next=17;break;case 16:p("Merci d'entrer un email valide");case 17:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(d.a)(u.a.mark((function e(c){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),!_.isMinSize(r.checkpassword,8)){e.next=15;break}return e.prev=2,e.next=5,O.a.put("/users/changepwd/"+k.id,{id:k.id,password:r.checkpassword});case 5:a=e.sent,p(a.data),t(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),e.t0.response&&p(e.t0.response.data);case 13:e.next=16;break;case 15:p("Merci d'entrer un mot de passe  valide");case 16:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"getpassword-all",children:[Object(a.jsx)("h3",{children:"Reinitialiser votre mot de pass"}),Object(a.jsxs)("div",{className:"getpassword-container",children:[Object(a.jsxs)("div",{className:"getpassword-checkemail",children:[Object(a.jsx)("h3",{children:"Entrez votre adresse mail"}),Object(a.jsx)("input",{id:"checklogin",type:"text",placeholder:"Ici",value:r.checklogin,onChange:S}),Object(a.jsx)("button",{onClick:C,children:"Envoyer"})]}),m&&Object(a.jsxs)("div",{children:[" ",Object(a.jsxs)("div",{className:"getpassword-checkemail",children:[Object(a.jsx)("h3",{children:"Nouveau mot de passe"}),Object(a.jsx)("input",{id:"checkpassword",type:"password",value:r.checkpassword,placeholder:"Min 8 caracteres",onChange:S}),Object(a.jsx)("button",{onClick:I,children:"Envoyer"})]})]}),Object(a.jsx)("p",{children:b})]})]})}),T=function(e){var t=e.signInBtnRef,c=e.signinPopDisplay,s=e.transRef,r=Object(n.useState)({}),i=Object(l.a)(r,2),j=i[0],o=i[1],b=Object(n.useState)(!1),p=Object(l.a)(b,2),f=p[0],x=p[1],v=Object(n.useState)({login:"",password:""}),N=Object(l.a)(v,2),k=N[0],w=N[1],I=Object(n.useState)(!1),E=Object(l.a)(I,2),z=E[0],R=E[1],T=c[1],q=Object(n.useState)(!1),F=Object(l.a)(q,2),B=F[0],U=F[1],L=Object(n.useContext)(h)[1],A=Object(n.useContext)(m)[1],V=Object(n.useRef)(),H=S(V.current,t);Object(n.useEffect)((function(){H&&T(!1)}),[H,T]);var Y=function(e){o({}),w(Object(y.a)(Object(y.a)({},k),{},Object(g.a)({},e.target.id,e.target.value)))},J=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("/users/signin/",k).catch((function(e){e.response&&o(Object(y.a)(Object(y.a)({},j),{},{sign:e.response.data}))}));case 2:(t=e.sent)&&(sessionStorage.setItem("accessToken",t.data.accessToken),L(Object(y.a)({},t.data.user)),A(!0),R(!0),T(!1));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"signin-all",ref:s,children:Object(a.jsxs)("div",{className:"signin-wrapp",ref:V,children:[Object(a.jsx)("h2",{children:"S'identifier"}),Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={};for(var c in k)"login"===c&&(_.emailIsValid(k[c])||(t=Object(y.a)(Object(y.a)({},t),{},Object(g.a)({},c,"E mail valide")))),"password"===c&&(_.isMinSize(k[c],8)||(t=Object(y.a)(Object(y.a)({},t),{},Object(g.a)({},c,"Minimum 8 caracteres"))));0===Object.keys(t).length?J():o(t)},children:[Object(a.jsxs)("div",{className:"signin-inputs-error",children:[Object(a.jsxs)("div",{className:"signin-inputs",children:[Object(a.jsx)("h3",{children:"E mail"}),Object(a.jsx)("input",{id:"login",type:"text",value:k.login,onChange:Y})]}),Object(a.jsx)("p",{children:j.login})]}),Object(a.jsxs)("div",{className:"signin-inputs-error",children:[Object(a.jsxs)("div",{className:"signin-inputs",children:[Object(a.jsx)("h3",{children:"Mot de passe"}),Object(a.jsx)("input",{id:"password",type:f?"text":"password",value:k.password,onChange:Y}),Object(a.jsx)("button",{type:"button",onClick:function(e){e.preventDefault(),x(!f)},children:f?Object(a.jsx)(P.b,{size:18}):Object(a.jsx)(P.a,{size:18})})]}),Object(a.jsx)("p",{children:j.password}),Object(a.jsx)("p",{children:j.sign})]}),Object(a.jsx)("button",{type:"submit",children:Object(a.jsx)(M.a,{size:18})}),Object(a.jsx)("p",{onClick:function(){return U(!B)},style:{cursor:"pointer"},children:"Mot de passe oubli\xe9 ?"}),z&&Object(a.jsx)(C.a,{to:"/"})]}),B&&Object(a.jsx)(D,{setDisplaySignIn:T})]})})},q=function(){var e=Object(n.useContext)(h),t=Object(l.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(!1),i=Object(l.a)(r,2),o=i[0],u=i[1],d=Object(n.useState)(!1),b=Object(l.a)(d,2),O=b[0],p=b[1],f=Object(n.useRef)(),m=Object(n.useRef)(),x=Object(n.useRef)(null);return Object(a.jsx)("nav",{children:Object(a.jsxs)("ul",{children:[Object(a.jsx)("div",{className:"nav-title",children:Object(a.jsx)("h1",{children:"My Family"})}),Object(a.jsx)("div",{className:"nav-user",children:Object(a.jsxs)("div",{className:"nav-user-center",children:[Object.keys(c).length>0&&Object(a.jsxs)("li",{id:"profile-menu-pic",children:[Object(a.jsx)("div",{className:"menu-profile-pic",style:{backgroundImage:"url('".concat("/pics/"+c.profile,"')")},onClick:function(){u(!o)},ref:f}),c.familyRequest&&c.familyRequest.length>0&&Object(a.jsx)(j.b,{to:"/family/".concat(c.family_id),children:Object(a.jsx)("p",{className:"request-join",children:c.familyRequest.length})})]}),Object(a.jsx)(E.a,{in:o,timeout:200,unmountOnExit:!0,classNames:"my-node",nodeRef:x,children:Object(a.jsx)(I,{userStat:[c,s],isDisplayed:[o,u],mainBtn:f.current,transRef:x})})]})}),Object(a.jsxs)("div",{className:"nav-menu",children:[Object(a.jsx)(j.c,{to:"/",activeClassName:"selected",children:Object(a.jsxs)("li",{children:[Object(a.jsx)(z.b,{size:24}),Object(a.jsx)("p",{children:"Home"})]})}),Object(a.jsx)(j.c,{to:"/familysearch",activeClassName:"selected",children:Object(a.jsxs)("li",{children:[Object(a.jsx)(M.b,{size:24}),Object(a.jsx)("p",{children:"Familles"})]})}),Object(a.jsx)(j.c,{to:"/search",activeClassName:"selected",children:Object(a.jsxs)("li",{children:[Object(a.jsx)(R.b,{size:24}),Object(a.jsx)("p",{children:"Recherche"})]})}),0===Object.keys(c).length&&Object(a.jsx)("li",{className:"li-id-btn",onClick:function(){p(!O)},ref:m,children:"S'identifier"}),Object(a.jsx)(E.a,{in:O,timeout:200,unmountOnExit:!0,classNames:"my-node",nodeRef:x,children:Object(a.jsx)(T,{signInBtnRef:m.current,signinPopDisplay:[O,p],transRef:x})}),0===Object.keys(c).length&&Object(a.jsx)(j.c,{to:"/signup",activeClassName:"selected",children:Object(a.jsx)("li",{children:"S'enregistrer"})})]})]})})},F=function(e){var t=e.split("T")[0],c=e.split("T")[1].split(".")[0],a=parseInt(c.split(":")[0])+2;a>=24?(a-=24)<10&&(a="0"+a):a<0&&(a+=24);var n=c.split(":");return n[0]=a,t.split("-").reverse().join("-")+" "+n.join(":")},B=(c(89),function(){document.body.style.position="fixed",document.body.style.left="0",document.body.style.right="0",document.body.style.margin="auto"}),U=function(e,t,c){var a=Object(n.useState)([]),s=Object(l.a)(a,2),r=s[0],i=s[1],j=Object(n.useState)(""),o=Object(l.a)(j,2),b=o[0],h=o[1],f=Object(n.useState)(!1),m=Object(l.a)(f,2),x=m[0],v=m[1];return Object(n.useEffect)((function(){var c=!0;return c&&function(){var a=Object(d.a)(u.a.mark((function a(){var n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return v(!0),a.prev=1,a.next=4,O.a[e](p+t);case 4:n=a.sent,c&&i(n.data),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),c&&(h(a.t0),i([]));case 11:v(!1);case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(){return a.apply(this,arguments)}}()(),function(){c=!1}}),[t,e,c]),{data:r,error:b,loading:x}},L=function(e){var t=Object(n.useState)(0),c=Object(l.a)(t,2),a=c[0],s=c[1];return Object(n.useEffect)((function(){if(e.current){var t={root:null,rootMargin:"0px",threshold:A(10)};new IntersectionObserver((function(e){var t=e[0].intersectionRatio;s(t)}),t).observe(e.current)}}),[e]),a},A=function(e){for(var t=[],c=1;c<=e;c++){var a=c/e;t.push(a)}return t.push(0),t},V=function(e){var t=e.path,c=e.id,s=e.userId,r=e.galleryState,i=e.title,j=Object(n.useContext)(h),o=Object(l.a)(j,1)[0],b=Object(n.useContext)(ke),p=Object(l.a)(b,2),f=p[0],m=p[1],x=Object(n.useState)(!1),v=Object(l.a)(x,2),g=v[0],N=v[1],k=U("get","comments/pic/"+c),w=Object(n.useRef)(),S=L(w),C=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!r){e.next=8;break}return a=Object(l.a)(r,2),n=a[0],s=a[1],e.next=6,O.a.delete("/pics/delete/"+c);case 6:i=n.filter((function(e){return e.id!==c})),s(i);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"gallery-container",ref:w,style:{opacity:"".concat(S)},children:[Object(a.jsx)("div",{className:"gallery-pics",style:{backgroundImage:"url(".concat("/pics/"+t,")")},onClick:function(){m(Object(y.a)(Object(y.a)({},f),{},{auth:!f.auth,picId:c,scrollPos:window.scrollY})),B()},onMouseLeave:function(){return N(!1)},onMouseOver:function(){return N(!0)},children:Object(a.jsxs)("div",{className:g?"gallery-top-info gready":"gallery-top-info",children:[Object(a.jsx)("p",{children:i}),Object(a.jsx)("p",{children:k&&"".concat(k.data.length," ").concat(k.data.length>1?"commentaires":"commentaire")})]})}),o.id===s&&r&&Object(a.jsx)("button",{onClick:C,children:Object(a.jsx)(z.a,{size:24})})]})},H=(c(90),c(91),function(e){document.body.style.position="",document.body.style.left="",document.body.style.right="",document.body.style.margin="",window.scrollTo(0,e)}),Y=function(e){var t=e.id,c=e.size,s=Object(n.useContext)(ke),r=Object(l.a)(s,2),i=r[0],o=r[1],u=U("get","users/"+t);return Object(a.jsx)(j.b,{to:"/users/"+t,draggable:"false",children:Object(a.jsx)("div",{className:"userprofile-icone",style:{backgroundImage:"url(".concat("/pics/"+u.data.profile,")"),width:c+"px",height:c+"px"},onClick:function(){o(Object(y.a)(Object(y.a)({},i),{},{auth:!1})),H(i.scrollPos)},draggable:"false"})})},J=c(27),Q=c.n(J),$=(c(44),{desktop:{breakpoint:{max:3e3,min:1300},items:10,slidesToSlide:3},laptop:{breakpoint:{max:1300,min:1024},items:6,slidesToSlide:2},tablet:{breakpoint:{max:1024,min:464},items:4,slidesToSlide:2},mobile:{breakpoint:{max:464,min:0},items:3,slidesToSlide:1}}),G=function(e){var t=e.match,c=Object(n.useState)([]),s=Object(l.a)(c,2),r=s[0],i=s[1],o=U("get","users/"+t.params.id),u=U("get","family/"+o.data.family_id),d=U("get","pics/?user_id="+t.params.id);return Object(n.useEffect)((function(){i(d.data)}),[d.data]),Object(a.jsxs)("div",{className:"userpics-container",children:[Object(a.jsx)("div",{className:"intro"}),Object(a.jsx)("div",{className:"userpics-wrapper",children:Object(a.jsxs)("div",{className:"userpics-card-all",children:[Object(a.jsxs)("div",{className:"userpics-info",children:[Object(a.jsx)("div",{className:"userpics-profile",style:{backgroundImage:"url(".concat("/pics/"+o.data.profile," )")}}),Object(a.jsxs)("div",{className:"userpics-info-text",children:[Object(a.jsxs)("div",{className:"userpics-info-top",children:[Object(a.jsx)("h2",{children:o.data.username}),Object(a.jsx)("a",{href:"mailto:".concat(o.data.login),children:Object(a.jsx)("button",{className:"btn-3d",children:Object(a.jsx)(N.a,{size:28})})})]}),o.data.family_id&&Object(a.jsx)(j.b,{to:"/family/".concat(o.data.family_id),children:Object(a.jsxs)("h3",{children:["Famille : ",u.data.name]})}),Object(a.jsxs)("h4",{children:["Inscrit depuis le :",o.data.date_creation&&F(o.data.date_creation)]})]})]}),u.data.familyMembers&&Object(a.jsxs)("div",{className:"userpics-family-title",children:[Object(a.jsx)("h2",{children:"Ma famille"}),Object(a.jsx)("div",{className:"userpics-fam-members",children:Object(a.jsx)(Q.a,{responsive:$,swipeable:!0,draggable:!0,showDots:!1,centerMode:!1,containerClass:"carousel-container",itemClass:"carousel-item",children:u.data.familyMembers.map((function(e){return Object(a.jsx)(Y,{id:e.id,size:50},e.id)}))})})]}),Object(a.jsxs)("div",{className:"userpics-gallery-wrapper",children:[Object(a.jsx)("h3",{children:"Mes souvenirs"}),Object(a.jsx)("div",{className:"userpics-gallery",children:r.map((function(e){return Object(n.createElement)(V,Object(y.a)(Object(y.a)({},e),{},{userId:o.data.id,galleryState:[r,i],key:e.id}))}))})]})]})})]})},K=c(52),W=function(e){var t=e.component,c=Object(K.a)(e,["component"]),s=c.path.split("/")[1],r=c.computedMatch.params.id,i=Object(n.useState)(!1),j=Object(l.a)(i,2),o=j[0],b=j[1];return Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get(p+s+"/"+r);case 2:0===e.sent.data.length&&b(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[s,r]),Object(a.jsx)(C.b,Object(y.a)(Object(y.a)({},c),{},{render:function(e){return o?Object(a.jsx)(C.a,{to:"/404"}):Object(a.jsx)(t,Object(y.a)({},e))}}))},X=function(e){var t=e.id,c=e.username;return Object(a.jsxs)("div",{className:"search-card-container",children:[Object(a.jsx)(Y,{id:t,size:60}),Object(a.jsx)("p",{children:c})]})},Z=(c(104),function(e,t,c){var a=Object(n.useState)([]),s=Object(l.a)(a,2),r=s[0],i=s[1],j=Object(n.useState)(""),o=Object(l.a)(j,2),b=o[0],h=o[1],f=Object(n.useState)(!1),m=Object(l.a)(f,2),x=m[0],v=m[1];return Object(n.useEffect)((function(){var a=!1,n=[];return function(){var s=Object(d.a)(u.a.mark((function s(){return u.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(v(!0),s.prev=1,!c){s.next=8;break}return s.next=5,O.a[e](p+t.a);case 5:n=s.sent,s.next=11;break;case 8:return s.next=10,O.a[e](p+t.b);case 10:n=s.sent;case 11:a||i(n.data),s.next=18;break;case 14:s.prev=14,s.t0=s.catch(1),h(s.t0),i([]);case 18:v(!1);case 19:case"end":return s.stop()}}),s,null,[[1,14]])})));return function(){return s.apply(this,arguments)}}()(),function(){a=!0}}),[t.a,t.b,e,c]),{data:r,error:b,loading:x}}),ee=function(){var e=Object(n.useState)({text:"",select:"Utilisateur"}),t=Object(l.a)(e,2),c=t[0],s=t[1],r=Object(n.useContext)(h),i=Object(l.a)(r,1)[0],j=Object(n.useState)(!0),o=Object(l.a)(j,2),u=o[0],d=o[1],b={a:"users/autocomp/"+c.text,b:"family/pics/search/?id=".concat(i.family_id,"&lettres=").concat(c.text)},O=Z("get",b,u),p=function(e){s(Object(y.a)(Object(y.a)({},c),{},Object(g.a)({},e.target.name,e.target.value)))};return Object(n.useEffect)((function(){"Utilisateur"===c.select?d(!0):d(!1)}),[c]),Object(a.jsxs)("div",{className:"search-all",children:[Object(a.jsx)("div",{className:"intro"}),Object(a.jsxs)("div",{className:"search-wrapper",children:[Object(a.jsx)("div",{className:"search-h2",children:Object(a.jsx)("h2",{children:"Recherche"})}),Object(a.jsxs)("div",{className:"select-inputs",children:[Object(a.jsxs)("select",{name:"select",value:c.select,onChange:p,children:[Object(a.jsx)("option",{value:"Utilisateur",children:"Utilisateur"}),i.family_id&&Object(a.jsx)("option",{value:"Photos",children:"Photos"})]}),Object(a.jsx)("input",{name:"text",type:"text",placeholder:"Utilisateur"===c.select?"Rechercher un utilisateur":"Souvenirs de famille par titre ou #",value:c.user,onChange:p})]})]}),Object(a.jsxs)("div",{className:"search-card-result",children:["Utilisateur"===c.select&&O.data.map((function(e){return Object(n.createElement)(X,Object(y.a)(Object(y.a)({},e),{},{key:e.id}))})),"Photos"===c.select&&O.data.map((function(e){return Object(a.jsx)(V,{path:e.path,id:e.id,userId:e.user_id,title:e.title},e.id)}))]})]})},te=(c(105),c(46)),ce=function(e){var t=Object(n.useState)(!1),c=Object(l.a)(t,2),s=c[0],r=c[1],i=Object(n.useContext)(h),j=Object(l.a)(i,1)[0],o=Object(l.a)(e.delCom,2),b=o[0],p=o[1],f=U("get","users/"+e.user_id),m=function(){var t=Object(d.a)(u.a.mark((function t(c){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c.preventDefault();try{O.a.delete("/comments/"+e.id),a=b.filter((function(t){return t.id!==e.id})),p(a)}catch(n){console.log(n)}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){j.id&&j.id===e.user_id&&r(!0)}),[j,e.user_id]),Object(a.jsxs)("div",{className:"solo-comm-container",children:[Object(a.jsx)(Y,{id:e.user_id,size:30}),Object(a.jsxs)("div",{className:"solo-comm-info",children:[Object(a.jsx)("h3",{children:f.data.username}),Object(a.jsx)("p",{children:e.contenu})]}),s&&Object(a.jsx)("button",{type:"button",onClick:m,children:Object(a.jsx)(te.a,{size:18})})]})},ae=c(51),ne=function(e){var t=e.picId,c=e.refresh,s=e.comState,r=Object(n.useState)(""),i=Object(l.a)(r,2),j=i[0],o=i[1],b=Object(n.useState)(""),p=Object(l.a)(b,2),f=p[0],m=p[1],x=Object(n.useContext)(h),v=Object(l.a)(x,1)[0],g=function(){var e=Object(d.a)(u.a.mark((function e(a){var n,r,i,d,b,p,h,f;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n={userId:v.id,picturesId:t,contenu:j},o(""),e.prev=3,e.next=6,O.a.post("/comments/",n);case 6:r=e.sent,m("Message envoye"),s&&(i=Object(l.a)(s,2),d=i[0],b=i[1],(p=Object(ae.a)(d)).unshift(r.data),b(p)),c&&(h=Object(l.a)(c,2),f=h[0],(0,h[1])(f+1)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),e.t0.response&&e.t0.response.data&&(e.t0.response.data.split(" ").includes("'user_id'")||"Unauthorized"===e.t0.response.data)&&m("Merci de vous identifier");case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"comments-box",children:Object(a.jsxs)("div",{className:"comments-input",children:[Object(a.jsx)("input",{className:"comments-put",type:"text",value:j,placeholder:f||"Ecrire un commentaire",onChange:function(e){m(""),o(e.target.value)}}),Object(a.jsx)("button",{onClick:g,className:"add-com",children:Object(a.jsx)(N.b,{size:18})})]})})},se=(c(106),function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(""),i=Object(l.a)(r,2),j=i[0],o=i[1],u=Object(n.useState)({photo:0}),d=Object(l.a)(u,2),b=d[0],O=d[1],p=Object(n.useState)(0),h=Object(l.a)(p,2),f=h[0],m=h[1],x=Object(n.useContext)(ke),v=Object(l.a)(x,2),g=v[0],N=v[1],k=U("get","pics/"+g.picId),w=U("get","users/"+k.data.user_id),C=U("get","comments/pic/"+g.picId),I=Object(n.useRef)(),E=Object(n.useRef)(),z=Object(n.useRef)(),M=S(z.current);return Object(n.useEffect)((function(){M&&(N(Object(y.a)(Object(y.a)({},g),{},{auth:!1})),H(g.scrollPos))}),[M,g,N]),Object(n.useEffect)((function(){var e=b.photo-E.current.offsetHeight||0;m(e)}),[b.photo,E]),Object(n.useEffect)((function(){if(k.data&&k.data.creation){var e=F(k.data.creation);o(e)}}),[k.data]),Object(n.useEffect)((function(){s(C.data)}),[C.data]),Object(a.jsx)("div",{className:"solo-container",ref:z,onClick:function(){N(Object(y.a)(Object(y.a)({},g),{},{auth:!g.auth})),H(g.scrollPos)},style:{top:window.scrollY+"px"},children:Object(a.jsxs)("div",{className:"solo-photo-photo",onClick:function(e){return e.stopPropagation()},children:[Object(a.jsx)("img",{src:"/pics/"+k.data.path,alt:k.data.title,ref:I,onLoad:function(){O(Object(y.a)(Object(y.a)({},b),{},{photo:I.current.clientHeight}))}}),Object(a.jsx)("div",{className:"solo-info-wrapper",children:Object(a.jsx)("div",{className:"solo-info-card-container",children:Object(a.jsxs)("div",{className:"solo-info-card-main",children:[Object(a.jsxs)("div",{className:"solo-title",ref:E,children:[Object(a.jsx)("h2",{children:k.data.title}),Object(a.jsx)("h3",{children:"Poste le :"}),Object(a.jsx)("p",{children:j}),Object(a.jsx)("h3",{children:" Description : "}),Object(a.jsx)("p",{children:k.data.desc}),Object(a.jsxs)("div",{className:"solo-info-center",children:[Object(a.jsx)(Y,{path:w.data.profile,id:w.data.id,size:60}),Object(a.jsx)("h3",{children:w.username}),Object(a.jsx)(ne,{picId:k.data.id,comState:[c,s]})]})]}),Object(a.jsx)("div",{className:"solo-comms",style:{height:f+"px"},children:c&&c.map((function(e){return Object(n.createElement)(ce,Object(y.a)(Object(y.a)({},e),{},{delCom:[c,s],key:e.id}))}))})]})})})]})})}),re=(c(107),function(){var e=Object(n.useState)({username:"",login:"",password:"",passwordC:""}),t=Object(l.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)({}),i=Object(l.a)(r,2),j=i[0],o=i[1],b=Object(n.useState)(!1),p=Object(l.a)(b,2),h=p[0],f=p[1],m=Object(n.useState)(""),x=Object(l.a)(m,2),v=x[0],N=x[1],k=Object(n.useState)(!1),w=Object(l.a)(k,2),S=w[0],I=w[1],E=function(e){o({}),s(Object(y.a)(Object(y.a)({},c),{},Object(g.a)({},e.target.id,e.target.value)))},z=function(){var e=Object(d.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(t=new Date).toISOString().slice(0,19).replace("T"," "),(a=new FormData).append("username",c.username),a.append("login",c.login),a.append("password",c.password),a.append("date_creation",t),a.append("image",v),e.prev=8,e.next=11,O.a.post("/users/prof/",a);case 11:I(!0),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(8),o(Object(y.a)(Object(y.a)({},j),{},{sign:e.t0.response.data}));case 17:case"end":return e.stop()}}),e,null,[[8,14]])})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"signup-all",children:Object(a.jsxs)("div",{className:"signup-wrapp",children:[Object(a.jsx)("h2",{children:"S'enregistrer"}),Object(a.jsxs)("form",{encType:"multipart/form-data",method:"post",onSubmit:function(e){e.preventDefault();var t={};for(var a in c)"username"===a&&(_.isMinSize(c[a],2)||(t=Object(y.a)(Object(y.a)({},t),{},Object(g.a)({},a,"Please enter minimum 2 characters")))),"login"===a&&(_.emailIsValid(c[a])||(t=Object(y.a)(Object(y.a)({},t),{},Object(g.a)({},a,"Merci d'entrer un e mail valide ")))),"password"===a&&(_.isMinSize(c[a],8)?_.isSame(c[a],c.passwordC)||(t=Object(y.a)(Object(y.a)({},t),{},Object(g.a)({},a,"Vos mots de passes sont differents"))):t=Object(y.a)(Object(y.a)({},t),{},Object(g.a)({},a,"Please enter minimum 8 characters")));v||(t=Object(y.a)(Object(y.a)({},t),{},{profile:"Please add a picture"})),0===Object.keys(t).length?z():o(t)},children:[Object(a.jsxs)("div",{className:"signup-inputs",children:[Object(a.jsx)("h3",{children:"Pr\xe9nom"}),Object(a.jsx)("input",{id:"username",type:"text",value:c.username,placeholder:"min 2 caract\xe9res",onChange:E})]}),Object(a.jsx)("p",{children:j.username}),Object(a.jsxs)("div",{className:"signup-inputs",children:[Object(a.jsx)("h3",{children:"E mail"}),Object(a.jsx)("input",{id:"login",type:"text",value:c.login,placeholder:"e mail valide",onChange:E})]}),Object(a.jsx)("p",{children:j.login}),Object(a.jsxs)("div",{className:"signup-inputs",children:[Object(a.jsx)("h3",{children:"Mot de passe"}),Object(a.jsx)("input",{id:"password",type:h?"text":"password",value:c.password,placeholder:"min 8 caract\xe9res",onChange:E}),Object(a.jsx)("button",{onClick:function(e){e.preventDefault(),f(!h)},children:h?Object(a.jsx)(P.b,{size:18}):Object(a.jsx)(P.a,{size:18})})]}),Object(a.jsxs)("div",{className:"signup-inputs",children:[Object(a.jsx)("h3",{children:"Confirmer le mot de passe"}),Object(a.jsx)("input",{id:"passwordC",type:h?"text":"password",value:c.passwordC,placeholder:"min 8 caract\xe9res",onChange:E})]}),Object(a.jsx)("p",{children:j.password}),Object(a.jsx)("label",{htmlFor:"add-profile-pic",children:v&&"string"!==typeof v?"Photo ajout\xe9e":"S\xe9lectionner une photo"}),Object(a.jsx)("input",{id:"add-profile-pic",type:"file",accept:"image/jpeg , image/png",onChange:function(e){N(e.target.files[0])}}),Object(a.jsx)("p",{children:j.profile}),Object(a.jsx)("button",{type:"submit",children:Object(a.jsx)(M.a,{size:18})}),Object(a.jsx)("p",{children:j.sign}),S&&Object(a.jsx)(C.a,{to:"/"})]})]})})}),ie=function(e){var t=e.id,c=e.name,s=e.userId,r=Object(n.useState)(""),i=Object(l.a)(r,2),o=i[0],b=i[1],p=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.post("/requetes/",{family_id:t,user_id:s});case 3:b("Vous avez envoyez une demande aux ".concat(c)),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),e.t0.response&&b(e.t0.response.data);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"family-card",children:[Object(a.jsx)(j.b,{to:"/family/".concat(t),children:Object(a.jsx)("div",{className:"family-name-circle",children:Object(a.jsx)("h2",{children:c})})}),Object(a.jsx)("input",{type:"button",value:"Rejoindre les ".concat(c),onClick:p}),Object(a.jsx)("p",{children:o})]})},le=(c(108),function(){var e=Object(n.useContext)(h),t=Object(l.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)({name:"",searchbar:""}),i=Object(l.a)(r,2),j=i[0],o=i[1],b=Object(n.useState)(""),p=Object(l.a)(b,2),f=p[0],m=p[1],x=Object(n.useState)([]),v=Object(l.a)(x,2),N=v[0],k=v[1],w=Object(n.useState)(!1),S=Object(l.a)(w,2),C=S[0],I=S[1],E=Object(n.useState)({}),z=Object(l.a)(E,2),M=z[0],P=z[1],D=function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!_.isMinSize(j.name,3)){e.next=16;break}return e.prev=2,e.next=5,O.a.post("/family/",{name:j.name,creator:M.id});case 5:a=e.sent,m("la Famille ".concat(a.data.name," existe \xe0 present ! ")),s(Object(y.a)(Object(y.a)({},c),{},{family_id:a.data.id})),I(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),m(e.t0.response.data);case 14:e.next=17;break;case 16:m("Pas assez de caracteres");case 17:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(d.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(Object(y.a)(Object(y.a)({},j),{},Object(g.a)({},t.target.name,t.target.value))),e.prev=1,e.next=4,O.a.get("/family/search/"+t.target.value);case 4:c=e.sent,k(c.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),k([]);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){P(Object(y.a)({},c))}),[c]),Object(a.jsxs)("div",{className:"family-all",children:[Object(a.jsx)("div",{className:"intro"}),Object(a.jsxs)("div",{className:"family-container-main",children:[null===M.family_id&&Object(a.jsxs)("div",{className:"family-bloc",children:[Object(a.jsx)("h2",{className:"create",children:"Creer votre famille"}),Object(a.jsxs)("div",{className:"family-create",children:[Object(a.jsx)("h3",{children:"Entrez le nom de votre famille"}),Object(a.jsx)("input",{type:"text",name:"name",placeholder:"Minimum 3 Caracteres",value:j.name,onChange:function(e){m(""),o(Object(y.a)(Object(y.a)({},j),{},Object(g.a)({},e.target.name,e.target.value)))}}),Object(a.jsx)("button",{onClick:D,children:"Creer"})]}),Object(a.jsx)("p",{children:f})]}),C&&Object(a.jsx)("div",{className:"creation-done",children:Object(a.jsx)(R.c,{size:"60"})}),Object(a.jsxs)("div",{className:"family-bloc",children:[Object(a.jsx)("h2",{className:"search",children:"Recherchez une famille et rejoignez la"}),Object(a.jsx)("div",{className:"family-search",children:Object(a.jsx)("input",{type:"text",name:"searchbar",value:j.searchbar,placeholder:"Entrez un nom de famille",onChange:T})})]}),Object(a.jsx)("div",{className:"family-search-result",children:N.map((function(e){return Object(n.createElement)(ie,Object(y.a)(Object(y.a)({},e),{},{key:e.id,userId:c.id}))}))})]})]})}),je=c(47),oe=c(48),ue=function(e){var t=e.reqId,c=e.famId,s=e.demP,r=e.currentUser,i=Object(l.a)(s,2),j=i[0],o=i[1],b=Object(n.useState)(""),p=Object(l.a)(b,2),h=p[0],f=p[1],m=Object(l.a)(r,2),x=m[0],v=m[1],g=U("get","users/"+t),N=function(){var e=Object(d.a)(u.a.mark((function e(a){var n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),"Accepter"!==a.target.parentNode.id&&"Accepter"!==a.target.id){e.next=14;break}return e.prev=2,e.next=5,O.a.put("/users/"+t,{family_id:c});case 5:return e.next=7,O.a.delete("/requetes?user_id="+t);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),e.t0.response&&f(e.t0.response.data);case 12:e.next=22;break;case 14:return e.prev=14,e.next=17,O.a.delete("/requetes?user_id="+t);case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(14),e.t1.response&&f(e.t1.response.data);case 22:n=j.filter((function(e){return e!==t})),s=x.familyRequest.filter((function(e){return e!==t})),v(Object(y.a)(Object(y.a)({},x),{},{familyRequest:s})),o(n);case 26:case"end":return e.stop()}}),e,null,[[2,9],[14,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"family-profile-req-btn",children:[Object(a.jsx)(Y,{id:g.data.id,size:80}),Object(a.jsx)("p",{children:g.data.username}),Object(a.jsxs)("div",{className:"family-profile-btn",children:[Object(a.jsx)("button",{id:"Accepter",onClick:N,children:Object(a.jsx)(je.a,{id:"Accepter",size:24})}),Object(a.jsx)("button",{id:"Refuser",onClick:N,children:Object(a.jsx)(oe.a,{id:"Refuser",size:24})})]}),Object(a.jsx)("p",{children:h})]})},de=function(e){var t=e.match,c=Object(n.useState)([]),s=Object(l.a)(c,2),r=s[0],i=s[1],j=Object(n.useContext)(h),o=Object(l.a)(j,2),b=o[0],p=o[1],f=Object(n.useState)(!1),m=Object(l.a)(f,2),x=m[0],v=m[1],g=Object(n.useRef)(!0),N=U("get","family/"+t.params.id,r),k=U("get","family/ismember/?user="+b.id+"&family="+t.params.id),w=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,O.a.put("/users/"+b.id,{family_id:null});case 4:p(Object(y.a)(Object(y.a)({},b),{},{family_id:null})),v(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){k.data&&function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("/users/"+b.id);case 3:return t=e.sent,g.current&&i(t.data.familyRequest),e.abrupt("return",t.data.family_id);case 8:return e.prev=8,e.t0=e.catch(0),i([]),e.abrupt("return",0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[k.data,b.id]),Object(n.useEffect)((function(){return function(){g.current=!1}}),[]),Object(a.jsxs)("div",{className:"family-profile-all",children:[Object(a.jsx)("div",{className:"intro"}),Object(a.jsxs)("div",{className:"family-profile-container",children:[Object(a.jsxs)("div",{className:"family-profile-top-title",children:[Object(a.jsx)("h2",{children:N.data.name}),k.data&&Object(a.jsx)("button",{onClick:w,children:"Quitter ma famille"})]}),Object(a.jsx)("h3",{children:"Membres de la famille"}),Object(a.jsx)("div",{className:"family-profile-members",children:N.data.familyMembers&&Object(a.jsx)(Q.a,{responsive:$,swipeable:!0,draggable:!0,showDots:!1,centerMode:!1,containerClass:"carousel-container",itemClass:"carousel-item",children:N.data.familyMembers.map((function(e){return Object(a.jsxs)("div",{className:"family-profile-solo",children:[Object(a.jsx)(Y,{id:e.id,size:50}),Object(a.jsx)("p",{children:e.username})]},e.id)}))})}),Object(a.jsxs)("div",{className:"family-profile-request",children:[k.data&&Object(a.jsx)("h3",{children:"Personnes voulant rejoindre votre famille"}),Object(a.jsx)("div",{className:"family-profile-request-card",children:r&&r.map((function(e){return Object(a.jsx)(ue,{reqId:e,famId:N.data.id,demP:[r,i],currentUser:[b,p]},e)}))})]})]}),x&&Object(a.jsx)(C.a,{to:"/familysearch"})]})},be=(c(109),c(110),function(e){var t=Object(n.useState)(!1),c=Object(l.a)(t,2),a=c[0],s=c[1],r=function(e){e.target&&e.target.complete&&s(!0)};return Object(n.useEffect)((function(){e.current&&e.current.addEventListener("load",r)}),[e]),a}),Oe=(c(111),c(49)),pe=c.n(Oe),he=function(e){var t=e.path,c=e.title,s=e.id,r=e.user_id,i=Object(n.useState)(0),j=Object(l.a)(i,2),o=j[0],u=j[1],d=Object(n.useContext)(ke),b=Object(l.a)(d,2),O=b[0],p=b[1],h=U("get","users/"+r),f=U("get","comments/pic/"+s),m=Object(n.useRef)(),x=Object(n.useRef)(),v=L(m),g=be(x);return Object(n.useEffect)((function(){u(f.data.length)}),[f.data]),Object(a.jsxs)("div",{className:"display-pics-card",ref:m,style:{opacity:"".concat(v)},children:[Object(a.jsx)("div",{className:"display-pics-pop",children:Object(a.jsxs)("div",{className:"display-pics-pop-inside",children:[Object(a.jsx)(Y,{id:h.data.id,size:30}),Object(a.jsx)("h2",{children:h.data.username})]})}),Object(a.jsxs)("div",{className:"display-pics-image",children:[Object(a.jsx)("img",{src:"".concat(t),alt:c,className:"display-pics-image",onClick:function(){p(Object(y.a)(Object(y.a)({},O),{},{auth:!O.auth,picId:s,scrollPos:window.scrollY})),B()},ref:x}),Object(a.jsx)("div",{className:g?"waiting":"image-loader",children:Object(a.jsx)(pe.a,{type:"ThreeDots",color:"#77aca2",height:50,width:50,timeout:0})})]}),Object(a.jsx)("div",{className:"display-pics-pop",children:Object(a.jsx)("div",{className:"display-pics-pop-wrapper",children:Object(a.jsxs)("div",{className:"display-pics-pop-info",children:[Object(a.jsx)("h3",{children:c}),Object(a.jsxs)("div",{className:"comments",children:[Object(a.jsxs)("div",{className:"comments-inside",children:[Object(a.jsx)(R.a,{size:20}),Object(a.jsxs)("h3",{children:[o," "]})]}),Object(a.jsx)(ne,{picId:s,refresh:[o,u]})]})]})})})]})},fe=c(50),me=c.n(fe),xe=function(e){return me()({container:e,trueOrder:!1,waitForImages:!1,margin:8,columns:6,breakAt:{1400:5,1200:4,940:3,700:2,500:1}})},ve=function(e){var t=e.urlChoices,c=Object(n.useContext)(h),s=Object(l.a)(c,1)[0],r=Object(n.useContext)(x),i=Object(l.a)(r,1)[0],j=U("get",t,i),o=Object(n.useRef)();return Object(n.useEffect)((function(){o.current&&null!==o.current&&j.data.length>0&&!j.loading&&xe(o.current).runOnImageLoad((function(){xe(o.current).recalculate(!0)}),!0)}),[j.data,j.loading,o]),Object(a.jsxs)("div",{className:"display-pics-main",children:[!s.id&&Object(a.jsx)("div",{className:"intro"}),Object(a.jsx)("div",{className:"display-pics-wrapper",style:{top:"".concat(s.id?"68px":"-70px")},ref:o,children:j&&j.data.map((function(e){return Object(n.createElement)(he,Object(y.a)(Object(y.a)({},e),{},{key:e.id}))}))})]})},ge="family/pics/",ye="pics?pictures.private=0",Ne=function(){var e=Object(n.useContext)(h),t=Object(l.a)(e,1)[0],c=Object(n.useContext)(m),s=Object(l.a)(c,2),r=s[0],i=s[1],j=Object(n.useContext)(f),o=U("get","users/"+t.id),u=Object(n.useState)(ye),d=Object(l.a)(u,2),b=d[0],O=d[1];return Object(n.useEffect)((function(){i(!0),j?t.family_id&&O(ge+o.data.family_id):O(ye)}),[j,t.family_id,o.data.family_id,r,i]),Object(a.jsx)(ve,{urlChoices:b})},ke=Object(n.createContext)([]),we=function(){var e=Object(n.useState)({picId:0,auth:!1}),t=Object(l.a)(e,2),c=t[0],s=t[1];return Object(a.jsx)("div",{className:"routes-app",children:Object(a.jsx)(v,{children:Object(a.jsxs)(ke.Provider,{value:[c,s],children:[Object(a.jsx)(q,{}),c.auth&&Object(a.jsx)(se,{}),Object(a.jsx)("div",{className:"route-content",children:Object(a.jsxs)(C.d,{children:[Object(a.jsx)(C.b,{exact:!0,path:"/",component:Ne}),Object(a.jsx)(C.b,{path:"/signup",component:re}),Object(a.jsx)(C.b,{path:"/familysearch",component:le}),Object(a.jsx)(C.b,{path:"/family/:id",component:de}),Object(a.jsx)(C.b,{path:"/search",component:ee}),Object(a.jsx)(W,{path:"/users/:id",component:G}),Object(a.jsx)(W,{path:"/pics/:id",component:se}),Object(a.jsx)(C.a,{to:"/error"})]})})]})})})},Se=function(){return Object(a.jsx)("h1",{children:"404"})};var Ce=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)(C.d,{children:[Object(a.jsx)(C.b,{exact:!0,path:"/error",component:Se}),Object(a.jsx)(C.b,{component:we})]})})},Ie=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,134)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),s(e),r(e)}))};i.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(j.a,{basename:"/myfamily",children:Object(a.jsx)(Ce,{})})}),document.getElementById("root")),Ie()},59:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){},80:function(e,t,c){},81:function(e,t,c){},87:function(e,t,c){},88:function(e,t,c){},89:function(e,t,c){},90:function(e,t,c){},91:function(e,t,c){}},[[131,1,2]]]);
//# sourceMappingURL=main.c38c75ce.chunk.js.map